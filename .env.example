# Copy this file to .env and adjust values before applying manifests.
# All variables are consumed through envsubst when generating Kubernetes manifests.

# Kubernetes namespace where all resources will live.
NAMESPACE=headscale-system

# Headscale configuration
HEADSCALE_SERVER_URL=https://headscale.example.com
HEADSCALE_LISTEN_ADDR=0.0.0.0:8080
HEADSCALE_METRICS_LISTEN_ADDR=0.0.0.0:9090
HEADSCALE_LOG_LEVEL=info
HEADSCALE_NOISE_PRIVATE_KEY_PATH=/var/lib/headscale/noise_private.key
HEADSCALE_DATABASE_TYPE=sqlite
HEADSCALE_DNS_NAMESERVER_1=1.1.1.1
HEADSCALE_DNS_NAMESERVER_2=8.8.8.8
HEADSCALE_DNS_MAGICDNS=false
HEADSCALE_DNS_BASE_DOMAIN=
HEADSCALE_ACL_ADMIN_USER=admin@example.com
HEADSCALE_ACL_GUEST_USERS="guest1@example.com"
HEADSCALE_ACL_GUEST_ALLOWED_DEST=headscale.internal:443
HEADSCALE_PREFIX_V4=100.64.0.0/10
HEADSCALE_PREFIX_V6=fd7a:115c:a1e0::/48
HEADSCALE_PREFIX_ALLOCATION_METHOD=sequential
HEADSCALE_DERP_MAP_URL=https://controlplane.tailscale.com/derpmap/default
HEADSCALE_DERP_UPDATE_FREQUENCY=3h
HEADSCALE_PREAUTH_KEY_EXPIRY_DAYS=7
HEADSCALE_REGISTRATION_METHOD=preauthkey

# Cloudflare Tunnel configuration
CLOUDFLARE_TUNNEL_NAME=headscale
CLOUDFLARE_TUNNEL_ID=00000000-0000-0000-0000-000000000000
CLOUDFLARE_ACCOUNT_ID=00000000000000000000000000000000
CLOUDFLARE_TUNNEL_SECRET=<generate-a-32-byte-base64-secret>
CLOUDFLARE_TUNNEL_TOKEN=eyJhIjoi...replace...
CLOUDFLARE_INGRESS_HOST=headscale.example.com

# JSON payload returned by `cloudflared tunnel create` (keep on a single line or escape newlines)
# Example: {"AccountTag":"...","TunnelSecret":"...","TunnelID":"..."}
CLOUDFLARE_TUNNEL_CREDENTIALS_JSON={"AccountTag":"...","TunnelSecret":"...","TunnelID":"..."}
